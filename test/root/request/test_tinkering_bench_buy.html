<html><head>
<script language=Javascript>
<!--
if (parent.frames.length == 0) location.href="game.php";
top.charpane.location.href="charpane.php";
//-->
</script>
<script language=Javascript src="https://d2uyhvukfffg5a.cloudfront.net/scripts/jquery-1.5.1.js"></script>
<script language=Javascript src="https://d2uyhvukfffg5a.cloudfront.net/scripts/keybinds.min.2.js"></script>
<script language=Javascript src="https://d2uyhvukfffg5a.cloudfront.net/scripts/window.20111231.js"></script>
<script language="javascript">function chatFocus(){if(top.chatpane.document.chatform.graf) top.chatpane.document.chatform.graf.focus();}
if (typeof defaultBind != 'undefined') { defaultBind(47, 2, chatFocus); defaultBind(190, 2, chatFocus);defaultBind(191, 2, chatFocus); defaultBind(47, 8, chatFocus);defaultBind(190, 8, chatFocus); defaultBind(191, 8, chatFocus); }</script><script language="javascript">
	function updateParseItem(iid, field, info) {
		var tbl = $('#ic'+iid);
		var data = parseItem(tbl);
		if (!data) return;
		data[field] = info;
		var out = [];
		for (i in data) {
			if (!data.hasOwnProperty(i)) continue;
			out.push(i+'='+data[i]);
		}
		tbl.attr('rel', out.join('&'));
	}
	function parseItem(tbl) {
		tbl = $(tbl);
		var rel = tbl.attr('rel');
		var data = {};
		if (!rel) return data;
		var parts = rel.split('&');
		for (i in parts) {
			if (!parts.hasOwnProperty(i)) continue;
			var kv = parts[i].split('=');
			tbl.data(kv[0], kv[1]);
			data[kv[0]] = kv[1];
		}
		return data;
	}
</script><script type="text/javascript" src="https://d2uyhvukfffg5a.cloudfront.net/scripts/pop_query.20230713.js"></script>
<script type="text/javascript" src="https://d2uyhvukfffg5a.cloudfront.net/scripts/ircm.20230626.js"></script>
<script type="text/javascript">
var tp = top;
function pop_ircm_contents(i, some) {
	var contents = '',
		shown = 0,
		da = '&nbsp;<a href="#" rel="?" class="small dojaxy">[some]</a>&nbsp;<a href="#" rel="',
		db = '" class="small dojaxy">[all]</a>',
		dc = '<div style="width:100%; padding-bottom: 3px;" rel="',
		dd = '<a href="#" rel="1" class="small dojaxy">[';
	one = 'one'; ss=some;
if (i.d==1 && i.s>0) { shown++; 
contents += dc + 'sellstuff.php?action=sell&ajax=1&type=quant&whichitem%5B%5D=IID&howmany=NUM&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Auto-Sell ('+i.s+' meat):</b> '+dd+one+']</a>';
if (ss) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.q==0) { shown++; 
contents += dc + 'inventory.php?action=closetpush&ajax=1&whichitem=IID&qty=NUM&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Closet:</b> '+dd+one+']</a>';
if (ss) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.q==0 && i.g==0 && i.t==1) { shown++; 
contents += dc + 'managestore.php?action=additem&qty1=NUM&item1=IID&price1=&limit1=&ajax=1&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Stock in Mall:</b> '+dd+one+']</a>';
if (ss) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.q==0) { shown++; 
contents += dc + 'managecollection.php?action=put&ajax=1&whichitem1=IID&howmany1=NUM&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Add to Display Case:</b> '+dd+one+']</a>';
if (ss) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.q==0 && i.t==1) { shown++; 
contents += dc + 'clan_stash.php?action=addgoodies&ajax=1&item1=IID&qty1=NUM&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Contribute to Clan:</b> '+dd+one+']</a>';
if (ss) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.u && i.u != "." && !i.ac) { shown++; 
contents += dc + 'inv_'+(i.u=="a"?"redir":(lab=(i.u=="u"?"use":(i.u=="e"?"eat":(i.u=="b"?"booze":(i.u=="s"?"spleen":"equip"))))))+'.php?ajax=1&whichitem=IID&itemquantity=NUM&quantity=NUM'+(i.u=="q"?"&action=equip":"")+'&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>'+ucfirst(unescape(i.ou ? i.ou.replace(/\+/g," ") : (lab=="booze"?"drink":lab)))+':</b> '+dd+one+']</a>';
if (ss && i.u != 'q' && !(i.u=='u' && i.m==0)) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.u && i.u != "." && i.ac) { shown++; 
contents += dc + 'inv_equip.php?slot=1&ajax=1&whichitem=IID&action=equip&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Equip (slot 1):</b> '+dd+one+']</a>';
if (ss && i.u != 'q' && !(i.u=='u' && i.m==0)) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.u && i.u != "." && i.ac) { shown++; 
contents += dc + 'inv_equip.php?slot=2&ajax=1&whichitem=IID&action=equip&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Equip (slot 2):</b> '+dd+one+']</a>';
if (ss && i.u != 'q' && !(i.u=='u' && i.m==0)) { contents += da + i.n + db;}
contents += '</div>';
}
one = 'one'; ss=some;
if (i.u && i.u != "." && i.ac) { shown++; 
contents += dc + 'inv_equip.php?slot=3&ajax=1&whichitem=IID&action=equip&pwd=3f767387b62e3eb2e6839a90ffd23bb7" id="pircm_'+i.id+'"><b>Equip (slot 3):</b> '+dd+one+']</a>';
if (ss && i.u != 'q' && !(i.u=='u' && i.m==0)) { contents += da + i.n + db;}
contents += '</div>';
}

	return [contents, shown];
}
tp=top
var todo = [];
function nextAction() {
	var next_todo = todo.shift();
	if (next_todo) {
		eval(next_todo);
	}
}
function dojax(dourl, afterFunc, hoverCaller, failureFunc, method, params) {
	$.ajax({
		type: method || 'GET', url: dourl, cache: false,
		data: params || null,
		global: false,
		success: function (out) {
			nextAction();
			if (out.match(/no\|/)) {
				var parts = out.split(/\|/);
				if (failureFunc) failureFunc(parts[1]);
				else if (window.dojaxFailure) window.dojaxFailure(parts[1]);
				else if (tp.chatpane.handleMessage) tp.chatpane.handleMessage({type: 'event', msg: 'Oops!  Sorry, Dave, you appear to be ' + parts[1]});
				else  $('#ChatWindow').append('<font color="green">Oops!  Sorry, Dave, you appear to be ' + parts[1] + '.</font><br />' + "\n");
				return;
			}

			if (hoverCaller)  {
				float_results(hoverCaller, out);
				if (afterFunc) { afterFunc(out); }
				return;
			}
$(tp.mainpane.document).find("#effdiv").remove(); if(!window.dontscroll || (window.dontscroll && dontscroll==0)) { window.scroll(0,0);}
			var $eff = $(tp.mainpane.document).find('#effdiv');
			if ($eff.length == 0) {
				var d = tp.mainpane.document.createElement('DIV');
				d.id = 'effdiv';
				var b = tp.mainpane.document.body;
				if ($('#content_').length > 0) {
					b = $('#content_ div:first')[0];
				}
				b.insertBefore(d, b.firstChild);
				$eff = $(d);
			}
			$eff.find('a[name="effdivtop"]').remove().end()
				.prepend('<a name="effdivtop"></a><center>' + out + '</center>').css('display','block');
			if (!window.dontscroll || (window.dontscroll && dontscroll==0)) {
				tp.mainpane.document.location = tp.mainpane.document.location + "#effdivtop";
			}
			if (afterFunc) { afterFunc(out); }
		}
	});
}
</script>	<link rel="stylesheet" type="text/css" href="https://d2uyhvukfffg5a.cloudfront.net/styles.20230117d.css">
<style type='text/css'>
.faded {
	zoom: 1;
	filter: alpha(opacity=35);
	opacity: 0.35;
	-khtml-opacity: 0.35; 
    -moz-opacity: 0.35;
}
</style>

</head>

<body>
<script src="https://d2uyhvukfffg5a.cloudfront.net/scripts/jquery.ui.tooltip.min.js?v=12"></script>
<style>
	.ui-helper-hidden-accessible {display: none; }
	.tip { 
		/*max-height: 300px;  */
		overflow: auto;
		background-color: white; 
		border: 1px solid black;
   		display:none;
    	width:350px;
    	padding:10px;
    	color:black;
    	z-index: 99;
		position: absolute;
	}
	#loading {
		position: fixed; top: 0px; right: 0px; padding: 2px; background-color: blue; color: white; display: none; z-index: 100; 
	}
</style>
<div id="loading">Loading description...</div>
<script>
	var boom;
	var cur_tip;
	var invtip = function(callback) {
		if (cur_tip == $(this).attr('rel')) return null;
		//$('#loading').show();
		var d = $('<div>Loading...</div>');
		cur_tip = $(this).attr('rel');
		$.get($(this).attr('rel'), function (res) {
			var h = res.replace(/[\s\S]*<div id="description"/m,'<div').replace(/<script[\s\S]*/,'')+'</div>'
			$('#loading').remove();
			setTimeout(function () {
			callback(h);
			}, 500);
		});
		return "Loading description...";
	};
	var tooltip_options = {
		content: invtip, 
		show: {delay: 250, duration: 10},
		hide: {delay: 5000000, duration: 100},
		position: {collision: 'flipfit', at: 'right' },
		open: function (e, ui) {
			clearTimeout(boom);
			$('.ui-tooltip').each(function () {
				if ($(ui.tooltip).attr('id') != $(this).attr('id')) $(this).remove();
			});
		},
		close : function (e) {
			var killme  = function () { $('.tip').remove(); cur_tip = null; };
			boom = setTimeout(function () { $('.tip').remove(); cur_tip = null; }, 1000);
			$('.tip').hover(
				function () { clearTimeout(boom); },
				killme
			);
		},
		tooltipClass: 'tip'
	};
	jQuery(function ($) {
		if ($('.pop').tooltip) {
		   	$('.pop').attr('title','').tooltip(tooltip_options);
		}
		var uia = function (e) {
			e.preventDefault();
			var p = $(this).parents('.ui-tooltip');
			$.get($(this).attr('href'), function (res) {
				p.empty().append(res);
			});
		};
		var ua = navigator.userAgent,
			        cname = (ua.match(/iP(hone|ad)/i)) ? "touchend" : "click";
		$(document).bind(cname, function (e) {
			if ($(e.target).parents('.ui-tooltip').length || $(e.target).is('.ircm')) return;
			 $('.tip').remove(); cur_tip = null; 
		});
		$(document).bind('contextmenu',function (e) {
			 $('.tip').remove(); cur_tip = null; 
		});
		if ($(document).live) $('.ui-tooltip a').live('click',uia);
		else if ($.on) $(document).on('click', '.ui-tooltip a', uia);
	});
</script>
<centeR><table  width=95%  cellspacing=0 cellpadding=0><tr><td style="color: white;" align=center bgcolor=blue><b>Results:</b></td></tr><tr><td style="padding: 5px; border: 1px solid blue;"><center><table><tr><td><center><table class="item" style="float: none" rel="id=11557&s=0&q=1&d=0&g=0&t=0&n=1&m=0&p=0&ac=1&u=q"><tr><td><img src="https://d2uyhvukfffg5a.cloudfront.net/itemimages/wp_belt3.gif" alt="quick-release utility belt" title="quick-release utility belt" class=hand onClick='descitem(836859893)' ></td><td valign=center class=effect>You acquire an item: <b>quick-release utility belt</b></td></tr></table></center><script>parent.menupane.location.href="topmenu.php";</script></td></tr></table></center></td></tr><tr><td height=4></td></tr></table><table  width=95%  cellspacing=0 cellpadding=0><tr><td style="color: white;" align=center bgcolor=blue><b>Tinkering Bench</b></td></tr><tr><td style="padding: 5px; border: 1px solid blue;"><center><table><tr><td><center><table width=80%><tr><td valign=top><img src=https://d2uyhvukfffg5a.cloudfront.net/otherimages/../adventureimages/workbench.gif width=100 height=100 alt="" title=""></td><td valign=top><center><b></b></center><p></td></tr></table><form name=bigform action=shop.php method=post><input type=hidden name=pwd value=3f767387b62e3eb2e6839a90ffd23bb7><input type=hidden name=whichshop value="wereprofessor_tinker"><input type=hidden name=action value=buyitem><br><table cellspacing=2 cellpadding=0><tr><td></td><td colspan=2 align=center><b>Item:</b> (click for description)</td><td colspan=10 align=center><b>Price:</b></td></tr><tr><td align=center colspan=4><i>(nothing is currently available here)</i></td></tr></table></form></form><div id="ass" style="font-size: .8em; text-align: center; width: 100%">*Right-Click to Multi-Buy</div><p><a href=place.php?whichplace=wereprof_cottage>Back to your Humble Cottage</a></center></td></tr></table></center></td></tr><tr><td height=4></td></tr></table></center><script>
jQuery(function ($) {
	var ass = false;
	$('.doit').bind('contextmenu', function (e) {
		e.preventDefault();
		var l = $(this);
		pop_query(l, 'How Many?', 'Buy', function (num) {
			var url = l.attr('rel');
			url = url.replace(/quantity=1/, 'quantity=' + num);
			parent.mainpane.location=url;
		})
	}).each(function () {
		//$(this).val($(this).val() + '*');
		ass = true;
	}).click(function (e) {
		e.preventDefault();
		if (e.shiftKey) {
			var t= this;
			setTimeout(function () { $(t).trigger('contextmenu');}, 500);
			return;
		}
		var url = $(this).attr('rel');
		parent.mainpane.location=url;
	});

	if (!ass) { $('#ass').hide() }

});
</script>
</body></html>
